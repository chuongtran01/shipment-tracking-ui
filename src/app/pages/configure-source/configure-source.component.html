<div class="configure-source">
  <app-configuration-topbar
    [currentStep]="1"
    class="configure-source-topbar"
    (onBackClicked)="navigateToPreviousPage()"
    (onCancelClicked)="cancelProcess()"
  ></app-configuration-topbar>

  <div class="configure-source-content">
    <div class="configure-source-title">
        {{constants.pipelineConfiguration.configureSource.title}}
    </div>
    <div class="configure-source-description">
      {{constants.pipelineConfiguration.configureSource.description}}
      <span class="configure-source-dropdown-text">
        {{constants.pipelineConfiguration.configureSource.existingSources}}
        <fa-icon class="configure-source-nav-icon" [icon]="faChevronDown"></fa-icon>
      </span>
    </div>

    <div class="configure-source-form" [formGroup]="configureSourceFormGroup">
      <div class="configure-source-fields">

        <!-- Pipeline field -->
        <div class="configure-source-field-pipeline">
          <input
            class="configure-source-input-field"
            id="pipeline-name"
            type="text"
            name="pipeline-name"
            formControlName="pipelineName"
          />
          <div class="configure-source-label">
            <label
              htmlFor="pipeline-name">
                {{constants.pipelineConfiguration.configureSource.pipelineName}}
            </label>
          </div>
        </div>

        <!-- Database Host -->
        <div class="configure-source-field">
          <input
            class="configure-source-input-field"
            id="database-host"
            type="text"
            name="database-host"
            formControlName="databaseHost"
          />
          <div class="configure-source-label">
            <label
              htmlFor="database-host">
                {{constants.pipelineConfiguration.configureSource.databaseHost}}
            </label>
            <div>
              <fa-icon class="configure-source-icon" [icon]="faCircleInfo"></fa-icon>
            </div>
          </div>
        </div>

        <!-- Database Port -->
        <div class="configure-source-field">
          <input
            class="configure-source-input-field"
            id="database-port"
            type="number"
            name="database-port"
            formControlName="databasePort"
          />
          <div class="configure-source-label">
            <label
              htmlFor="database-port">
                {{constants.pipelineConfiguration.configureSource.databasePort}}
            </label>
            <div>
              <fa-icon class="configure-source-icon" [icon]="faCircleInfo"></fa-icon>
            </div>
          </div>
        </div>

        <!-- Database User -->
        <div class="configure-source-field">
          <input
            class="configure-source-input-field"
            id="database-user"
            type="text"
            name="database-user"
            formControlName="databaseUser"
          />
          <div class="configure-source-label">
            <label
              htmlFor="database-user">
                {{constants.pipelineConfiguration.configureSource.databaseUser}}
            </label>
            <div>
              <fa-icon class="configure-source-icon" [icon]="faCircleInfo"></fa-icon>
            </div>
          </div>
        </div>

        <!-- Database Password -->
        <div class="configure-source-field">
          <input
            class="configure-source-input-field"
            id="database-password"
            type="password"
            name="database-password"
            formControlName="databasePassword"
          />
          <div class="configure-source-label">
            <label
              htmlFor="database-password">
                {{constants.pipelineConfiguration.configureSource.databasePassword}}
            </label>
            <div>
              <fa-icon class="configure-source-icon" [icon]="faCircleInfo"></fa-icon>
            </div>
          </div>
        </div>

        <!-- Auth DB Name -->
        <div class="configure-source-field">
          <input
            class="configure-source-input-field"
            id="auth-db-name"
            type="text"
            name="auth-db-name"
            formControlName="databaseName"
          />
          <div class="configure-source-label">
            <label
              htmlFor="auth-db-name">
                {{constants.pipelineConfiguration.configureSource.databaseName}}
            </label>
            <div>
              <fa-icon class="configure-source-icon" [icon]="faCircleInfo"></fa-icon>
            </div>
          </div>
        </div>
      </div>

      <div class="configure-source-access-text">
        {{constants.pipelineConfiguration.configureSource.openAccess}}
        <span class="configure-source-highlighted">
          {{constants.pipelineConfiguration.configureSource.ipAddress}}
        </span>
      </div>

      <div class="configure-source-switch">
        <app-toggle-switch
          name="ssh-connection"
          [isChecked]="sshConnection"
          (switchToggled)="sshConnectionToggled(!sshConnection)">
        </app-toggle-switch>
        <div class="configure-source-switch-text">
          <div>{{constants.pipelineConfiguration.configureSource.SSHconnection.title}}</div>
          <div class="configure-source-switch-description">{{constants.pipelineConfiguration.configureSource.SSHconnection.description}}</div>
        </div>
      </div>
      <div class="configure-source-buttons">
        <div class="configure-source-btn">
          <app-button
            classes="button-outline font-12 text-bold"
            id="test-connection"
            type="button"
            (click)="testSourceConnection()"
          >
          {{constants.pipelineConfiguration.configureSource.testConnection}}
          </app-button>
        </div>
        <div class="configure-source-btn">
          <app-button
            id="test-continue"
            classes="button-green font-12 text-bold"
            type="button"
            (click)="testAndContinue()"
            [disabled]="configureSourceFormGroup.invalid"
          >
            {{constants.pipelineConfiguration.configureSource.testContinue}}
          </app-button>
        </div>
      </div>
    </div>
  </div>
</div>
